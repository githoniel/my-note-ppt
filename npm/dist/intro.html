<!doctype html><html><head><meta charset=UTF-8><title>NPM &amp;&amp; NPM Register - By yaoj@landicorp.com</title><link rel=stylesheet href=//cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//cdn.staticfile.org/prism/1.15.0/themes/prism.min.css><link rel=stylesheet href=//cdn.staticfile.org/KaTeX/0.10.0-rc.1/katex.min.css><link href=./css/chunk-vendors.032489e3.css rel=stylesheet></head><body><div><article id=webslides><section slide class="slide bg-black-blue fullscreen aligncenter" image="https://wallpapers.wallhaven.cc/wallpapers/full/wallhaven-703949.jpg dark"><span dark="" class=background style="background-image:url('https://wallpapers.wallhaven.cc/wallpapers/full/wallhaven-703949.jpg')"></span><div class=wrap wrap=true><div style="padding-top: 500px"><h1 class="text-landing text-shadow">NPM 包管理器</h1><h1 class="text-landing text-shadow">NPM 私有服务器</h1></div></div></section><section slide class="slide bg-black-blue aligncenter" image="https://wallpapers.wallhaven.cc/wallpapers/full/wallhaven-665745.jpg .dark"><span class="background dark" style="background-image:url('https://wallpapers.wallhaven.cc/wallpapers/full/wallhaven-665745.jpg')"></span><div class=wrap wrap=true><h1 class="text-landing text-shadow animated fadeInDown delay-800">Webpack Demo</h1><p class=text-intro>https:://github.com/ruanyf/webpack-demos</p><p><a href=https://github.com/ksky521/nodeppt class="button ghost" target=_blank><i class="fa fa-github"></i> Github</a></p></div></section><section slide class="slide aligncenter bg-gradient-v"><div class=wrap wrap=true><div><h2>包管理器 -- 结束过去手工共享代码的日子</h2><h2>同时npmjs.com也是一个商业站点</h2></div></div></section><section slide class="slide bg-gradient-h aligncenter"><div class=wrap wrap=true><div class=grid><div class=column><h2>对比Maven</h2><ul class="specs flexblock"><li><div><i class="fa fa-copy"></i><h2>局部依赖而非全局依赖</h2><p>空间不值钱，方便复制移动 直接规避了多版本共存的问题</p></div></li><li><div><i class="fa fa-align-right"></i><h2>扁平化排布</h2><p>过去的深度排布，炸了Linux的文件系统</p></div></li><li><div><i class="fa fa-file"></i><h2>即是源代码也是库</h2><p>随你修改，不影响其他项目</p></div></li></ul></div></div></div></section><section slide class="slide bg-gradient-r aligncenter"><div class=wrap wrap=true><h2>生成一个包</h2><hr><div class="bg-white shadow"><ul class="flexblock reasons"><li><h2>npm init [/y]</h2><p>将当前目录变成一个包，其实就是生成一个<code>package.json</code>文件</p></li><li><h2>package.json</h2><p>描述包信息，至少包含以下字段</p><p>name 包名称</p><p>version 版本</p></li></ul></div></div></section><section slide class="slide bg-gradient-h aligncenter"><div class=wrap wrap=true><div class=grid><div class=column><h2>依赖关系</h2><ul class="specs flexblock"><li><div><i class="fa fa-copy"></i><h2>dependencies</h2><p>项目运行所需要的库 --save, -s, --save-prod-, -P</p></div></li><li><div><i class="fa fa-align-right"></i><h2>devDependencies</h2><p>项目开发所需要的库 --save-dev, -D</p></div></li><li><div><i class="fa fa-file"></i><h2>peerDependencies</h2><p>前置需求的库，不被安装，但是会提示缺少(废弃)</p></div></li><li><div><i class="fa fa-arrows-h"></i><h2>optionalDependencies</h2><p>可选依赖，不被安装，但是会提示缺少 --save-optional, -o</p></div></li><li><div><i class="fa fa-arrows-v"></i><h2>bundledDependencies</h2><p>打包依赖，发布时会一起打包</p></div></li></ul></div></div></div></section><section slide class="slide bg-gradient-v aligncenter"><div class=wrap wrap=true><div class=grid><div class=column><h2>重要字段</h2><ul class="specs flexblock"><li><div><i class="fa fa-align-right"></i><h2>main</h2><p>包的入口，用于require('')时返回的入口对象</p></div></li><li><div><i class="fa fa-copy"></i><h2>bin</h2><p>安装时候将生成命令行入口程序</p></div></li><li><div><i class="fa fa-file"></i><h2>script</h2><p>包指令，用于<code>npm run</code>执行对应的指令</p></div></li></ul></div></div></div></section><section slide class="slide bg-gradient-r aligncenter"><div class=wrap wrap=true><div class=grid><div class=column><h2>常用命令</h2><p><code>https://docs.npmjs.com/cli-documentation/cli</code></p><ul class="specs flexblock"><li><div><i class="fa fa-align-right"></i><h2>npm install [packageName][@version]</h2><p>安装依赖包</p></div></li><li><div><i class="fa fa-copy"></i><h2>npm update [packageName]</h2><p>更新依赖包</p></div></li><li><div><i class="fa fa-file"></i><h2>npm uninstall [packageName]</h2><p>删除依赖包</p></div></li><li><div><i class="fa fa-plus"></i><h2>npm publish</h2><p>发布依赖包</p></div></li><li><div><i class="fa fa-remove"></i><h2>npm unpublish [packageName][@version]</h2><p>删除发布依赖包</p></div></li></ul></div></div></div></section><section slide class="slide bg-trans-light aligncenter"><div class=wrap wrap=true><h2>配置命令</h2><style>pre {
    font-size: 3rem;
}</style><div class=dd><pre class=language-textile><code class=language-textile><span class="token phrase">npm config set </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span> [-g|--global]
<span class="token phrase">npm config get </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>
<span class="token phrase">npm config delete </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>
<span class="token phrase">npm config list [<span class="token inline"><span class="token punctuation">-</span><span class="token deleted">l] [</span><span class="token punctuation">-</span></span>-json]
npm config edit
</span></code></pre></div></div></section><section slide class="slide bg-blue aligncenter"><div class=wrap wrap=true><h1>@scope/packageName</h1></div></section><section slide class="slide bg-light aligncenter"><div class=wrap wrap=true><pre class=language-textile><code class=language-textile><span class="token phrase">// 设置联迪域的地址
npm config set @landi:registry http://10.10.30.186:4873
// 增加账号
npm adduser --registry http://10.10.30.186:4873
</span></code></pre></div></section><section slide class="slide bg-light aligncenter"><div class=wrap wrap=true><h1>npm version</h1><p><code>修改package.json，生成git commit， 生成tag 三合一</code></p><pre class=language-textile><code class=language-textile><span class="token phrase">npm version [</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>newversion</span><span class="token punctuation">></span></span> | major | minor | patch
<span class="token phrase"><span class="token table"><span class="token punctuation">|</span> premajor <span class="token punctuation">|</span> preminor <span class="token punctuation">|</span> prepatch 
<span class="token punctuation">|</span> prerelease [<span class="token inline"><span class="token punctuation">-</span><span class="token deleted">-preid=&lt;prerelease</span><span class="token punctuation">-</span></span>id>] <span class="token punctuation">|</span></span> from-git]</span>

<span class="token phrase">'npm view </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pkg</span><span class="token punctuation">></span></span> version' to view a package's published version
</code></pre></div></section><section slide class="slide bg-secondary aligncenter"><div class=wrap wrap=true><h1>免费私有NPM服务器</h1><h2>https:://verdaccio.org/</h2><h2>https:://github.com/cnpm/cnpm</h2></div></section><section slide class="slide bg-apple aligncenter"><div class=wrap wrap=true><h1>区别</h1><h3>Database</h3><h3>Owner/Register</h3><h3>KPI</h3></div></section></article></div><script src=//cdn.staticfile.org/echarts/4.1.0-release/echarts.min.js></script><script>window.pluginsOptions = {}



document.addEventListener('DOMContentLoaded', () => {
    const ws = new WebSlides({
        loop: false
    })
    window.wsInstance = ws;
}, false)</script><script src=./js/chunk-vendors.032489e3.js></script><script src=./js/intro.032489e3.js></script></body></html>